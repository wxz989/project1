!function(p){var r={init:function(n,a){return r.addhtml(n,a),void r.bindEvent(n,a)},addhtml:function(e,t){return function(){var n,a;for(e.empty(),1<t.current?e.append('<a href="javascript:;" class="prebtn">上一页</a>'):(e.remove(".prevPage"),e.append('<span class="disabled">上一页</span>')),4<t.current&&4<t.pageNum&&(e.append('<a href="javascript:;" class="zxfPagenum">1</a>'),e.append('<a href="javascript:;" class="zxfPagenum">2</a>'),e.append("<span>...</span>")),a=4<t.current&&t.current<=t.pageNum-5?(n=t.current-2,t.current+2):4<t.current&&t.current>t.pageNum-5?(n=t.pageNum-4,t.pageNum):(n=1,9);n<=a;n++)n<=t.pageNum&&1<=n&&(n==t.current?e.append('<span class="current">'+n+"</span>"):n==t.current+1?e.append('<a href="javascript:;" class="zxfPagenum nextpage">'+n+"</a>"):e.append('<a href="javascript:;" class="zxfPagenum">'+n+"</a>"));a<t.pageNum&&e.append("<span>...</span>"),t.current>=t.pageNum?(e.remove(".nextbtn"),e.append('<span class="disabled">下一页</span>')):e.append('<a href="javascript:;" class="nextbtn">下一页</a>'),e.append("<span>共<b>"+t.pageNum+"</b>页，</span>"),e.append('<span>到第<input type="number" class="zxfinput" value="5"/>页</span>'),e.append('<span class="zxfokbtn">确定</span>')}()},bindEvent:function(e,t){return e.on("click","a.prebtn",function(){var n=parseInt(e.children("span.current").text()),a=p.extend(t,{current:n-1});r.addhtml(e,a),"function"==typeof t.backfun&&t.backfun(a)}),e.on("click","a.zxfPagenum",function(){var n=parseInt(p(this).text()),a=p.extend(t,{current:n});r.addhtml(e,a),"function"==typeof t.backfun&&t.backfun(a)}),e.on("click","a.nextbtn",function(){var n=parseInt(e.children("span.current").text()),a=p.extend(t,{current:n+1});r.addhtml(e,a),"function"==typeof t.backfun&&t.backfun(a)}),void e.on("click","span.zxfokbtn",function(){var n=parseInt(p("input.zxfinput").val()),a=p.extend(t,{current:n});r.addhtml(e,{current:n,pageNum:t.pageNum}),"function"==typeof t.backfun&&t.backfun(a)})}};p.fn.createPage=function(n){var a=p.extend({pageNum:15,current:1,backfun:function(){}},n);r.init(this,a)}}(jQuery);